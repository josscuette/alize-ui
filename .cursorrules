# Cursor Rules for Alize Project

## React Components

- Always use TypeScript for component props
- Use `function` declarations for named components
- Use `export` directly for main components
- Extend HTML element props with `React.ComponentProps<"element">`
- Use `VariantProps` from `class-variance-authority` for component variants
- Always use `cn()` utility for combining Tailwind classes
- Include `data-slot` attributes for main elements in shadcn/ui components

## Styling

- Use Tailwind CSS classes, never inline styles (except for Material Symbols fontVariationSettings)
- **ALWAYS** use CSS variables from theme: `var(--semantic-*)` for design tokens
- Use `var(--foreground)`, `var(--background)` for base colors only when semantic tokens are not available
- Never hardcode color values
- **PRIORITY**: Always prefer semantic design tokens (`--semantic-*`) over generic Tailwind colors
- Order Tailwind classes: Layout → Spacing → Sizing → Typography → Visual → Effects → States
- Use `!important` sparingly, only when necessary for specificity

## Material Symbols

- **ALWAYS** use MaterialSymbol component instead of SVG icons or other icon libraries
- Always use `weight={300}` as default
- Use consistent sizes: 16, 20, 24
- Let parent components handle color via CSS classes
- **ALWAYS** use semantic design tokens for icon colors:
  - `text-[var(--semantic-icon-subdued)]` for default/subdued icons
  - `text-[var(--semantic-icon-interaction-default)]` for interactive/primary icons
  - `text-[var(--semantic-text-reversedpersistent)]` for icons on dark backgrounds
  - Never use `text-muted-foreground` or other generic Tailwind colors for icons

## File Structure

- Keep component files in `components/` directory
- UI components in `components/ui/`
- Custom components in `components/`
- Utilities in `lib/`
- Never modify `globals.css` except for base styles and Material Symbols setup

## CSS Global Rules

- DO NOT add complex CSS selectors in `globals.css`
- DO NOT add component-specific styles in `globals.css`
- Only add base styles, Material Symbols setup, and theme variables
- Prefer Tailwind classes or component-scoped styles

## Code Quality

- Run `npm run check` before committing
- Follow the conventions in `CONVENTIONS.md`
- Use ESLint and Prettier configurations
- Ensure TypeScript strict mode compliance

## Critical Project Rules

### Server Management

- **ALWAYS stop the development server before making any code modifications**
  - Check for running Next.js processes: `ps aux | grep -i "next dev" | grep -v grep`
  - Stop all running servers before editing files to prevent cache corruption
  - Use `lsof -ti:3000 | xargs kill -9` to free port 3000 if needed

- **ALWAYS check for existing servers before starting a new one**
  - Before running `npm run dev`, check if other Next.js processes are running
  - If multiple servers are detected, stop all of them first
  - Only start one server instance at a time

- **Server startup procedure**:
  1. Check for existing processes: `ps aux | grep -i "next dev" | grep -v grep`
  2. Stop all found processes
  3. Free the port if needed: `lsof -ti:3000 | xargs kill -9 2>/dev/null`
  4. Then start the server: `npm run dev`

### Directory Management

- **NEVER modify or delete `.next/` directory** - This is Next.js build cache, managed automatically
- **NEVER modify or delete `node_modules/` directory** - This is managed by npm/yarn package manager
- **NEVER run commands that delete or modify these directories** (e.g., `rm -rf .next`, `rm -rf node_modules`)
- If build issues occur, suggest the user run `npm run dev` or `npm run build` to regenerate files
- These directories are excluded from version control and should remain untouched

